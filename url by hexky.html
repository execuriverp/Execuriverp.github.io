<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BB DJ Player ‚Ä¢ Pro</title>

<style>
:root{
    --bg:#070b12;
    --card:#121212;
    --accent:#1db954;
    --accent2:#1ed760;
    --text:#ffffff;
    --muted:#b3b3b3;
}

*{box-sizing:border-box;font-family:Inter,system-ui,sans-serif}

body{
    margin:0;
    background:linear-gradient(180deg,#0f2027,#070b12);
    color:var(--text);
}

.player{
    max-width:420px;
    margin:50px auto;
    background:var(--card);
    border-radius:26px;
    padding:24px;
    box-shadow:0 30px 80px rgba(0,0,0,.7);
}

.cover{
    height:220px;
    border-radius:18px;
    background:linear-gradient(135deg,#1db954,#1ed760);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:48px;
    font-weight:900;
    margin-bottom:18px;
}

.title{
    font-size:22px;
    font-weight:900;
}

.req{
    font-size:13px;
    color:var(--muted);
    margin-bottom:8px;
}

.url{
    font-size:11px;
    color:#8ab4f8;
    word-break:break-all;
    margin-bottom:16px;
}

/* === PROGRESS === */
.progress{
    display:flex;
    align-items:center;
    gap:10px;
    font-size:11px;
    color:var(--muted);
    margin-bottom:14px;
}

.progress input{
    flex:1;
    accent-color:var(--accent);
}

/* === CONTROLS === */
.controls{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:26px;
    margin-bottom:18px;
}

.controls span{
    font-size:22px;
    cursor:pointer;
    color:var(--muted);
}

.controls .play{
    background:var(--accent);
    color:#000;
    width:54px;
    height:54px;
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:26px;
    box-shadow:0 10px 30px rgba(29,185,84,.6);
}

.controls span:hover{
    color:#fff;
    transform:scale(1.15);
}

/* === VOLUME === */
.volume{
    display:flex;
    align-items:center;
    gap:10px;
    margin-bottom:16px;
    font-size:12px;
    color:var(--muted);
}

.volume input{
    flex:1;
    accent-color:var(--accent);
}

/* === ACTIONS === */
.actions{
    display:flex;
    justify-content:space-between;
    gap:10px;
    margin-bottom:14px;
}

.actions button{
    flex:1;
    background:#181818;
    border:none;
    color:var(--text);
    padding:10px;
    border-radius:14px;
    font-weight:700;
    cursor:pointer;
}

.actions button.active{
    background:var(--accent);
    color:#000;
}

/* === COPY === */
.copy-box{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
}

.copy-btn{
    flex:1;
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    border:none;
    padding:12px;
    border-radius:18px;
    font-weight:900;
    cursor:pointer;
}

.loading{
    width:18px;
    height:18px;
    border:3px solid rgba(255,255,255,.2);
    border-top:3px solid #fff;
    border-radius:50%;
    animation:spin .8s linear infinite;
    display:none;
}

.copy-ok{
    width:22px;
    display:none;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}

/* === LIST === */
.list{
    display:none;
    margin-top:16px;
    font-size:13px;
}

.list div{
    padding:8px;
    border-bottom:1px solid #222;
    cursor:pointer;
}

.list div:hover{
    background:#1a1a1a;
}
</style>
</head>

<body>

<div class="player">
    <div class="cover">‚òä</div>
    <div class="title" id="title">Loading...</div>
    <div class="req" id="req"></div>
    <div class="url" id="url"></div>

    <div class="progress">
        <span id="cur">0:00</span>
        <input type="range" id="seek" min="0" value="0">
        <span id="dur">0:00</span>
    </div>

    <div class="controls">
        <span onclick="prev()">‚óÅ</span>
        <div class="play" onclick="toggle()">‚ñ∂</div>
        <span onclick="next()">‚ñ∑‚ñ∑</span>
    </div>

    <div class="volume">
        üîä
        <input type="range" min="0" max="1" step="0.01" value="0.6" id="vol">
    </div>

    <div class="actions">
        <button id="fav" onclick="fav()">‚ô•</button>
        <button onclick="toggleList()">‚â°</button>
    </div>

    <div class="copy-box">
        <button class="copy-btn" onclick="copyURL()">Copy URL</button>
        <div class="loading" id="load"></div>
        <img src="ceklist.png" class="copy-ok" id="ok">
    </div>

    <div class="list" id="list"></div>
</div>

<script>
let songs=[],i=0;
const audio=new Audio();
audio.volume=0.6;

fetch('data/urlbb.json').then(r=>r.json()).then(d=>{
songs=d;
initList();
load(0);
});

const titleEl=title,reqEl=req,urlEl=url,seek=seek,cur=cur,dur=dur;

function load(n){
i=n;
audio.src=songs[i].url;
titleEl.innerText=songs[i].title;
reqEl.innerText="request by "+songs[i].by;
urlEl.innerText=songs[i].url;
audio.play();
}

function toggle(){audio.paused?audio.play():audio.pause()}
function next(){load((i+1)%songs.length)}
function prev(){load((i-1+songs.length)%songs.length)}

audio.addEventListener("loadedmetadata",()=>{
seek.max=audio.duration;
dur.innerText=format(audio.duration);
});

audio.addEventListener("timeupdate",()=>{
seek.value=audio.currentTime;
cur.innerText=format(audio.currentTime);
});

seek.oninput=()=>audio.currentTime=seek.value;
vol.oninput=e=>audio.volume=e.target.value;

function format(t){
const m=Math.floor(t/60);
const s=Math.floor(t%60).toString().padStart(2,"0");
return m+":"+s;
}

function copyURL(){
load.style.display="block";
setTimeout(()=>{
navigator.clipboard.writeText(songs[i].url);
load.style.display="none";
ok.style.display="block";
setTimeout(()=>ok.style.display="none",2000);
},700);
}

function initList(){
songs.forEach((s,n)=>{
const d=document.createElement("div");
d.innerText=(n+1)+". "+s.title;
d.onclick=()=>load(n);
list.appendChild(d);
});
}

function toggleList(){
list.style.display=list.style.display==="block"?"none":"block";
}

function fav(){
fav.classList.toggle("active");
}
</script>

</body>
</html>
