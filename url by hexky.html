<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Boombox Url By Hexky</title>
<link rel="icon" href="favicon.png">

<style>
:root{
    --bg:#070b12;
    --card:#121923;
    --accent:#1db954;
    --accent2:#1ed760;
    --text:#eaf2f6;
    --muted:#9fb0c4;
    --border:rgba(255,255,255,.08);
}

*{box-sizing:border-box;font-family:Inter,system-ui,sans-serif}

body{
    margin:0;
    background:linear-gradient(180deg,#0b1322,#070b12);
    color:var(--text);
}

.player{
    max-width:420px;
    margin:60px auto;
    background:var(--card);
    border-radius:26px;
    padding:24px;
    box-shadow:0 25px 60px rgba(0,0,0,.6);
    text-align:center;
}

.cover{
    width:180px;
    height:180px;
    border-radius:18px;
    background:linear-gradient(135deg,#1db954,#1ed760);
    margin:0 auto 18px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:42px;
    font-weight:900;
    color:#00310f;
}

.title{
    font-size:22px;
    font-weight:900;
}

.req{
    font-size:13px;
    color:var(--muted);
    margin-bottom:6px;
}

.url{
    font-size:11px;
    color:#9fb9cc;
    word-break:break-all;
    margin-bottom:18px;
}

.controls{
    display:flex;
    justify-content:center;
    gap:22px;
    margin-bottom:18px;
}

.controls span{
    font-size:26px;
    cursor:pointer;
    padding:14px;
    border-radius:50%;
    background:#0b1322;
    box-shadow:0 0 0 1px var(--border);
    transition:.2s;
}

.controls span:hover{
    transform:scale(1.2);
    background:var(--accent);
    color:#001a0a;
}

.actions{
    display:flex;
    justify-content:space-between;
    margin-bottom:14px;
}

.actions button{
    flex:1;
    margin:0 4px;
    background:#0b1322;
    border:1px solid var(--border);
    color:var(--text);
    padding:10px;
    border-radius:14px;
    cursor:pointer;
    font-weight:700;
}

.actions button.active{
    background:var(--accent);
    color:#00210f;
}

.copy-wrap{
    display:flex;
    justify-content:center;
    align-items:center;
    gap:10px;
    margin-bottom:14px;
}

.loading{
    width:18px;
    height:18px;
    border:3px solid rgba(255,255,255,.2);
    border-top:3px solid var(--accent);
    border-radius:50%;
    animation:spin .8s linear infinite;
    display:none;
}

.copy-ok{
    width:22px;
    display:none;
}

.volume{
    display:flex;
    justify-content:center;
    gap:14px;
}

.volume button{
    background:linear-gradient(135deg,var(--accent),var(--accent2));
    border:none;
    padding:10px 18px;
    border-radius:14px;
    font-weight:900;
    cursor:pointer;
}

.list{
    margin-top:18px;
    display:none;
    text-align:left;
    font-size:13px;
}

.list div{
    padding:8px;
    border-bottom:1px solid var(--border);
    cursor:pointer;
}

@keyframes spin{
    to{transform:rotate(360deg);}
}
</style>
</head>

<body>

<div class="player">
    <div class="cover">☊</div>
    <div class="title" id="title">Loading...</div>
    <div class="req" id="req"></div>
    <div class="url" id="url"></div>

    <div class="controls">
        <span onclick="prev()">◁</span>
        <span onclick="play()">▷</span>
        <span onclick="pause()">❚❚</span>
        <span onclick="next()">▷▷</span>
    </div>

    <div class="actions">
        <button id="favBtn" onclick="toggleFav()">♥</button>
        <button onclick="download()">⬇</button>
        <button onclick="toggleList()">≡</button>
    </div>

    <div class="copy-wrap">
        <button onclick="copyURL()">Copy URL</button>
        <div class="loading" id="load"></div>
        <img src="ceklist.png" class="copy-ok" id="ok">
    </div>

    <div class="volume">
        <button onclick="volDown()">-</button>
        <button onclick="volUp()">+</button>
    </div>

    <div class="list" id="list"></div>
</div>

<script>
let songs=[],index=0,audio=new Audio();

fetch('data/urlbb.json')
.then(r=>r.json())
.then(d=>{
songs=d;
initList();
load(0);
});

const titleEl=title,reqEl=req,urlEl=url,listEl=list,favBtn=document.getElementById("favBtn");

function load(i){
index=i;
audio.src=songs[i].url;
titleEl.innerText="☊ "+songs[i].title;
reqEl.innerText="request by "+songs[i].by;
urlEl.innerText=songs[i].url;
audio.play();
checkFav();
}

function play(){audio.play()}
function pause(){audio.pause()}
function next(){load((index+1)%songs.length)}
function prev(){load((index-1+songs.length)%songs.length)}

function volUp(){audio.volume=Math.min(1,audio.volume+0.1)}
function volDown(){audio.volume=Math.max(0,audio.volume-0.1)}

function copyURL(){
loadAnim(true);
setTimeout(()=>{
navigator.clipboard.writeText(songs[index].url);
loadAnim(false,true);
},700);
}

function loadAnim(load,ok=false){
document.getElementById("load").style.display=load?"block":"none";
document.getElementById("ok").style.display=ok?"block":"none";
setTimeout(()=>document.getElementById("ok").style.display="none",2000);
}

function download(){
const a=document.createElement("a");
a.href=songs[index].url;
a.download="";
a.click();
}

function toggleFav(){
let fav=JSON.parse(localStorage.getItem("fav")||"[]");
const u=songs[index].url;
fav=fav.includes(u)?fav.filter(x=>x!==u):[...fav,u];
localStorage.setItem("fav",JSON.stringify(fav));
checkFav();
}

function checkFav(){
let fav=JSON.parse(localStorage.getItem("fav")||"[]");
favBtn.classList.toggle("active",fav.includes(songs[index].url));
}

function initList(){
songs.forEach((s,i)=>{
const d=document.createElement("div");
d.innerText=(i+1)+". "+s.title+" — "+s.by;
d.onclick=()=>load(i);
listEl.appendChild(d);
});
}

function toggleList(){
listEl.style.display=listEl.style.display==="block"?"none":"block";
}
</script>

</body>
</html>
